# ğŸ—¿ å¤å¢³æ¤œå‡ºã‚·ã‚¹ãƒ†ãƒ  - Google Colabå­¦ç¿’ç‰ˆ

ã“ã®ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã§ã¯ã€å®Ÿéš›ã®GSIç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦å¤å¢³æ¤œå‡ºãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’ã—ã¾ã™ã€‚

## ã‚»ãƒ«1: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```python
# å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
!pip install torch torchvision
!pip install opencv-python
!pip install matplotlib
!pip install tqdm
!pip install PyYAML

# YOLOv5ã®ã‚¯ãƒ­ãƒ¼ãƒ³
!git clone https://github.com/ultralytics/yolov5
%cd yolov5
!pip install -r requirements.txt
```

## ã‚»ãƒ«2: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

```python
# ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
from google.colab import files
import zipfile
import os

print("ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„...")
uploaded = files.upload()

# ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å±•é–‹
for filename in uploaded.keys():
    if filename.endswith('.zip'):
        with zipfile.ZipFile(filename, 'r') as zip_ref:
            zip_ref.extractall('./dataset')
        print(f"ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å±•é–‹ã—ã¾ã—ãŸ: {filename}")
```

## ã‚»ãƒ«3: ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç¢ºèª

```python
# ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç¢ºèª
import os

dataset_dir = './dataset'
images_dir = os.path.join(dataset_dir, 'images')
labels_dir = os.path.join(dataset_dir, 'labels')

print(f"ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«æ•°: {len(os.listdir(images_dir))}")
print(f"ãƒ©ãƒ™ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«æ•°: {len(os.listdir(labels_dir))}")

# ã‚µãƒ³ãƒ—ãƒ«ç”»åƒã‚’è¡¨ç¤º
import matplotlib.pyplot as plt
import matplotlib.image as mpimg

sample_image = os.path.join(images_dir, os.listdir(images_dir)[0])
img = mpimg.imread(sample_image)
plt.figure(figsize=(10, 8))
plt.imshow(img)
plt.title('ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ')
plt.axis('off')
plt.show()
```

## ã‚»ãƒ«4: ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ã®å®Ÿè¡Œ

```python
# ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ã®å®Ÿè¡Œ
!python train.py --img 640 --batch 16 --epochs 50 --data ../dataset/kofun_dataset.yaml --weights yolov5s.pt --cache
```

## ã‚»ãƒ«5: å­¦ç¿’çµæœã®ç¢ºèª

```python
# å­¦ç¿’çµæœã®ç¢ºèª
import matplotlib.pyplot as plt
from PIL import Image

print("ğŸ“ˆ å­¦ç¿’çµæœã‚’ç¢ºèªä¸­...")
try:
    # å­¦ç¿’æ›²ç·šã®è¡¨ç¤º
    results = Image.open('runs/train/exp/results.png')
    plt.figure(figsize=(12, 8))
    plt.imshow(results)
    plt.axis('off')
    plt.title('Training Results')
    plt.show()
except:
    print("å­¦ç¿’çµæœã®è¡¨ç¤ºã«å¤±æ•—ã—ã¾ã—ãŸ")
```

## ã‚»ãƒ«6: å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```python
# å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
from google.colab import files

print("ğŸ’¾ å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸­...")
try:
    files.download('runs/train/exp/weights/best.pt')
    files.download('runs/train/exp/weights/last.pt')
    print("âœ… ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†")
except:
    print("âŒ ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ")

print("ğŸ‰ å­¦ç¿’å®Œäº†ï¼")
```

## ä½¿ç”¨æ–¹æ³•

1. Google Colabã«ã‚¢ã‚¯ã‚»ã‚¹: https://colab.research.google.com/
2. æ–°ã—ã„ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã‚’ä½œæˆ
3. ä¸Šè¨˜ã®ã‚»ãƒ«ã‚’é †ç•ªã«ã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆ
4. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ« `kofun_dataset_for_colab.zip` ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
5. å„ã‚»ãƒ«ã‚’å®Ÿè¡Œ
